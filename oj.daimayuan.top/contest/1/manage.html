
<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
				<title id="contest-manage"></title>
		
		<script type="text/javascript">
		window.this_id = 4;
		uojHome = 'http://oj.daimayuan.top';
		</script>

		<!-- Bootstrap core CSS -->
		<link type="text/css" rel="stylesheet" href="http://oj.daimayuan.top/css/bootstrap.min.css?v=2019.5.31" />		<!-- Bootstrap Glyphicons CSS-->
		<link type="text/css" rel="stylesheet" href="http://oj.daimayuan.top/css/bootstrap-glyphicons.min.css?v=2019.5.31" />
		<!-- CSS -->
		<link type="text/css" rel="stylesheet" href="file:///D:/oj.daimayuan.top/css/statistics.css"></link>
		<!-- Custom styles for this template -->
		<link type="text/css" rel="stylesheet" href="http://oj.daimayuan.top/css/uoj-theme.css?v=2.3333" />		
		<!-- jQuery (necessary for Bootstrap\'s JavaScript plugins) -->
		<script src="http://oj.daimayuan.top/js/jquery.min.js"></script>		
		<!-- jQuery autosize -->
		<script src="http://oj.daimayuan.top/js/jquery.autosize.min.js"></script>		<script type="text/javascript">
			$(document).ready(function() {
				$('textarea').autosize();
			});
		</script>
		
		<!-- jQuery cookie -->
		<script src="http://oj.daimayuan.top/js/jquery.cookie.min.js"></script>		
		<!-- jQuery modal -->
		<script src="http://oj.daimayuan.top/js/jquery.modal.js"></script>		
				
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="http://oj.daimayuan.top/js/popper.min.js?v=2019.5.31"></script>		<script src="http://oj.daimayuan.top/js/bootstrap.min.js?v=2019.5.31"></script>		
		<!-- Color converter -->
		<script src="http://oj.daimayuan.top/js/color-converter.min.js"></script>		
		<!-- uoj -->
		<script src="file:///D:/oj.daimayuan.top/js/uoj.js"></script>		
		<!-- readmore -->
		<script src="http://oj.daimayuan.top/js/readmore/readmore.min.js"></script>		
		<!-- LAB -->
		<script src="http://oj.daimayuan.top/js/LAB.min.js"></script>
		<!-- favicon -->
		<link rel="shortcut icon" href="http://oj.daimayuan.top/images/favicon.ico" />
		

			<!-- UOJ blog editor -->
						<link type="text/css" rel="stylesheet" href="https://uoj.ac/js/codemirror/lib/codemirror.css" />		<link type="text/css" rel="stylesheet" href="https://uoj.ac/css/blog-editor.css" />		<script type="text/javascript" src="https://uoj.ac/js/blog-editor/blog-editor.js?v=2023.7.10"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/lib/codemirror.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/addon/mode/overlay.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/addon/selection/active-line.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/mode/xml/xml.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/mode/gfm/gfm.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/mode/markdown/markdown.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/mode/javascript/javascript.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/mode/css/css.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/mode/htmlmixed/htmlmixed.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/mode/clike/clike.js"></script>		<script type="text/javascript" src="https://uoj.ac/js/codemirror/mode/pascal/pascal.js"></script>				

				
				
				<!-- MD5 -->
		<script src="http://oj.daimayuan.top/js/md5.min.js"></script>				
				
				
				<!-- Bootstrap switch -->
		<link type="text/css" rel="stylesheet" href="https://qoj.ac/css/bootstrap-switch.min.css" />		<script type="text/javascript" src="https://qoj.ac/js/bootstrap-switch.min.js"></script>							
				
				
				<!-- jquery hotkeys -->
		<script type="text/javascript" src="https://qoj.ac/js/jquery.hotkeys.js"></script>			
				
		
				
				
				
				
				
		
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
		
		<script type="text/javascript">
		before_window_unload_message = null;
		$(window).on('beforeunload', function() {
			if (before_window_unload_message !== null) {
				return before_window_unload_message;
			}
		});
		</script>
		
			</head>
	<body role="document">
		<div class="container theme-showcase" role="main">
						<div>
				<ul class="nav nav-pills float-right" role="tablist">
									<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="uoj_username_a">
							<span id="uoj_username_page" class="uoj-username" data-rating="1500" data-link="0"></span> 						</a>
						
						<ul class="dropdown-menu" role="menu">
							<li role="presentation"><a class="dropdown-item" id="my_chat">个人信息</a></li>
							<li role="presentation"><a class="dropdown-item" href="file:///D:/oj.daimayuan.top/user/system-msg.html">系统消息&nbsp;&nbsp;</a></li>
													</ul>
					</li>
					<li id="login" class="nav-item" role="presentation"><a class="nav-link" href="file:///D:/oj.daimayuan.top/login.html">登录</a></li>
					<li id="register" class="nav-item" role="presentation"><a class="nav-link" href="file:///D:/oj.daimayuan.top/register.html">注册</a></li>
					<li id="logout" class="nav-item" role="presentation"><a class="nav-link" href="file:///D:/oj.daimayuan.top/logout.html">登出</a></li>
								</ul><script type="text/javascript">
							var uoj_username = localStorage.getItem("uoj-username");
							if (uoj_username != null) {
								document.querySelector("#uoj_username_page").innerHTML = uoj_username;
								document.querySelector("#my_chat").href = "file:///D:/oj.daimayuan.top/user/profile/" + uoj_username + ".html";
								document.querySelector("#login").hidden = true;
								document.querySelector("#register").hidden = true;
							}
							else {
								document.querySelector("#uoj_username_a").hidden = true;
								document.querySelector("#logout").hidden = true;
							}
						</script>
				<h1 class="d-none d-sm-block"><a href="file:///D:/oj.daimayuan.top.html"><img src="http://oj.daimayuan.top/images/logo_small.png" alt="Logo" class="img-rounded" style="width:39px; height:39px;" /></a> Daimayuan Online Judge</h1>
				<h1 class="d-block d-sm-none">Home</h1>
			</div>
			
			<div class="navbar navbar-light navbar-expand-md bg-light mb-4" role="navigation">
	<a class="navbar-brand" href="file:///D:/oj.daimayuan.top.html">Home</a>
	<button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navbarSupportedContent">
		<ul class="nav navbar-nav mr-auto">
			<li class="nav-item"><a class="nav-link" href="contests"><span class="glyphicon glyphicon-stats"></span> 比赛</a></li>
			<li class="nav-item"><a class="nav-link" href="problems"><span class="glyphicon glyphicon-list-alt"></span> 题库</a></li>
			<li class="nav-item"><a class="nav-link" href="submissions"><span class="glyphicon glyphicon-tasks"></span> 提交记录</a></li>
			<li class="nav-item"><a class="nav-link" href="courses"><span class="glyphicon glyphicon-education"></span> 课程</a></li>
		</ul>
		
		<form id="form-search-problem" class="form-inline my-2 my-lg-0" method="get">
			 <div class="input-group">
				<input type="text" class="form-control" name="search" id="input-search" placeholder=题目搜索 />  
				<div class="input-group-append">
					<button type="submit" class="btn btn-search btn-outline-primary" id="submit-search"><span class="glyphicon glyphicon-search"></span></button>
				</div>
			</div>
		</form>
		<script src="file:///D:/oj.daimayuan.top/js/uoj.js"></script>
	</div><!--/.nav-collapse -->
</div>
<script type="text/javascript">
	var zan_link = '';
	$('#form-search-problem').submit(function(e) {
		e.preventDefault();
		
		url = 'http://oj.daimayuan.top/problems';
		qs = [];
		$(['search']).each(function () {
			if ($('#input-' + this).val()) {
				qs.push(this + '=' + encodeURIComponent($('#input-' + this).val()));
			}
		});
		if (qs.length > 0) {
			url += '?' + qs.join('&');
		}
		location.href = url;
	});
</script>						
			<div class="uoj-content">
<div class="text-center">
	<h1 id="contname-gl"></h1>
</div>
		<div class="col-sm-12">
			<ul class="nav nav-tabs" role="tablist">
	<li class="nav-item"><a class="nav-link active" href="#tab-statement" role="tab" data-toggle="tab">基本</a></li>
	<li class="nav-item"><a class="nav-link" href="#tab-submit-answer" role="tab" data-toggle="tab">题目编排</a></li>
		<li class="nav-item"><a class="nav-link" href="#tab-custom-test" role="tab" data-toggle="tab">比赛数据</a></li>
		<li class="nav-item"><a class="nav-link contest" role="tab">返回比赛</a></li>
			</ul>
<div class="tab-content">
	<div class="tab-pane active" id="tab-statement">
	<div id="div-contestname" class="form-group" style="margin-top: .7rem;">
		<h5 for="input-contestname" class="col-sm-2 control-label"><label>比赛名称</label></h5>
		<div class="col-sm-12" style="margin-top: -.5rem;">
			<input type="text" class="form-control" id="input-contestname" name="contestname" placeholder="输入比赛名称" />
			<span class="help-block" style="color: black;">如果不想修改比赛名称请留空</span>
		</div>
	</div>

	<div id="div-contestrules" class="form-group">
		<h5 for="input-contestrules" class="col-sm-2 control-label"><label>更改赛制</label></h5>
		<div class="col-sm-3">
			<select class="form-control" id="input-contestrules" name="contestrules" style="width: 100%; font-family: 'Consolas'; margin-top: 5px;">
			<option>选择赛制</option>
			<option>OI</option>
			<option>NOI</option>
			<option>IOI</option>
			<option>ACM</option>
            <option>ExICPC</option>
            <option>Codeforces</option>
			</select>
			<span class="help-block" id="help-contestrules" style="color: red;">如果不想修改赛制请选择原来的赛制</span>
		</div>
	</div>
	<div id="div-contesttime" class="form-group">
		<h5 for="input-contesttime" class="col-sm-6 control-label"><label>更改比赛时间（请以 yyyy-mm-dd hh:nn:ss 的格式输入）</label></h5>
		<div class="col-sm-3">
			<input type="text" class="form-control" id="input-contestbegintime" name="contesttime" placeholder="输入开始时间" />
			<input type="text" class="form-control" id="input-contestfastbegintime" name="contesttime" placeholder="输入开始时间的快表示方法" />
			<input type="text" class="form-control" id="input-contestendtime" name="contesttime" placeholder="输入结束时间" />
			<input type="text" class="form-control" id="input-contestfastendtime" name="contesttime" placeholder="输入结束时间的快表示方法" />
			<input type="text" class="form-control" id="input-contestlength" name="contesttime" placeholder="输入比赛时长（单位 h）" />
		</div><div class="col-sm-4"><span class="help-block" id="help-contesttime" style="color: red;">如果不想修改比赛时间请输入原来的时间与时长</span></div>
	</div>

	<div id="div-contestname" class="form-group">
		<h5 for="input-contestname" class="col-sm-2 control-label"><label>比赛描述</label></h5><div class="col-sm-12"><div class="alert alert-warning">
		<b>注：</b>现暂不开放编辑比赛描述。
		</div></div>
		<div hidden id="div-custom_test_problem_editor" class="col-sm-12" style="margin-top: -.5rem;"><textarea class="form-control" id="input-custom_test_problem_editor" name="custom_test_problem_editor" style="overflow: hidden; overflow-wrap: break-word; resize: none;"></textarea><span class="help-block" style="color: black;">支持 Markdown 与 HTML<br/><strong>注意：代码请不要写<pre>```xxx
…
```</pre>需要写（C++ 需要写 cpp）<pre>&lt;pre&gt;&lt;code class="sh_xxx"&gt;…
…
&lt;/code&gt;&lt;/pre&gt;</pre>代码块内 <code><</code> 请写为 <code>&lt;j&gt;<&lt;/j&gt;</code></strong></span></div>
	</div>
	<div class="text-center"><button type="submit" class="mt-2 btn btn-secondary" onclick="change_problem();">提交</button></div>
	<script type="text/javascript">
		if (localStorage.getItem("lastcontest_id=" + this_id + "?text") != "" && localStorage.getItem("lastcontest_id=" + this_id + "?text") != null) 
			document.getElementById("input-custom_test_problem_editor").innerHTML = localStorage.getItem("lastcontest_id=" + this_id + "?text");
		function change_problem() {
			var input = document.getElementById("input-contestname");
			var input_text = input.value;
			if (input_text != "") 
				localStorage.setItem("lastcontest_id=" + this_id + "?name", input_text);
			var textarea = document.getElementById("input-custom_test_problem_editor");
			var text = textarea.value;
			if (text != "" && text != localStorage.getItem("problem-id=" + this_id + "?problem_text")) 
				localStorage.setItem("problem-id=" + this_id + "?problem_text", text);

	var selectElement = document.querySelector("#input-contestrules");
	var selectedIndex = selectElement.selectedIndex;
	var newcontestrules = selectElement.options[selectedIndex].text;
	var newcontestfastbegintime = document.querySelector("#input-contestfastbegintime").value;
	var newcontestfastendtime = document.querySelector("#input-contestfastendtime").value;
	if (newcontestrules != "选择赛制") 
		localStorage.setItem("lastcontest_id=" + this_id + "?rules", newcontestrules);
	var newcontestbegintime = document.querySelector("#input-contestbegintime").value;
	var newcontestendtime = document.querySelector("#input-contestendtime").value;
	if (newcontestbegintime != "") 
		localStorage.setItem("lastcontest_id=" + this_id + "?begin", newcontestbegintime);
	if (newcontestendtime != "")
		localStorage.setItem("lastcontest_id=" + this_id + "?end", newcontestendtime);
	if (newcontestfastbegintime != "")
		localStorage.setItem("lastcontest_id=" + this_id + "?begin&fast", newcontestfastbegintime);
	if (newcontestfastendtime != "")
		localStorage.setItem("lastcontest_id=" + this_id + "?end&fast", newcontestfastendtime);
	var contestlength = document.querySelector("#input-contestlength").value;
	if (contestlength != "")
		localStorage.setItem("lastcontest_id=" + this_id + "?length", contestlength);
			alert("修改完成！");
			location.href="";
		}
	</script>
</div>
	<div class="tab-pane" id="tab-submit-answer">
	<div id="div-contestname" class="form-group" style="margin-top: .7rem;">
		<h5 for="input-contestname" class="col-sm-2 control-label"><label>查看题目</label></h5>
		<div class="table-responsive">
	<table class="table table-bordered table-hover table-striped table-text-center">
		<thead>
			<tr>
				<th style="width:5em">#</th>
				<th>题目</th>
			</tr>
		</thead>
		<tbody>
				<script type="text/javascript">
					for (var i = 0; i <= 10000; i++) {
						if (localStorage.getItem("lastcontest_id=" + this_id + "?" + i + "&id") == null) continue;
						if (i == 0) {
							document.write('<tr><td>0</td>\n					<td><a href="../' + this_id + '/problem/' + localStorage.getItem("lastcontest_id=" + this_id + "?" + i + "&id") + '.html">' + localStorage.getItem("lastcontest_id=" + this_id + "?" + i + "&name") + '</a></td>\n				</tr>');
						}
						else {
							var x = "", y = Number(i);
							while (y > 0) {
								x = String.fromCharCode((y % 26) + 64) + x;
								y = Math.floor(y / 26);
							}
							document.write('<tr><td>' + x + '</td>\n					<td><a href="../' + this_id + '/problem/' + localStorage.getItem("lastcontest_id=" + this_id + "?" + i + "&id") + '.html">' + localStorage.getItem("lastcontest_id=" + this_id + "?" + i + "&name") + '</a></td>\n				</tr>');
						}
					}
				</script>
					</tbody>
	</table>
</div>
		<h5 for="input-contestname" class="col-sm-2 control-label"><label>更改题目</label></h5>
		<div id="div-custom_test_contest_editor" class="col-sm-12" style="margin-top: -.5rem;"><textarea class="form-control" id="input-custom_test_contest_editor" name="custom_test_contest_editor" style="overflow: hidden; overflow-wrap: break-word; resize: none;"></textarea><span class="help-block" style="color: black;"><strong>注意：请按以下格式更改（不更改的不需要写，之前没有的写上可加题，题目ID 处只写数字或<code>-</code>，<code>-</code> 表示删除此题）</strong></span><pre><code>题号1 题目ID1
题号2 题目ID2
...</code></pre></div>
		</div>
	<div class="text-center"><button type="submit" class="mt-2 btn btn-secondary" onclick="change_problems();">提交</button></div>
	<script type="text/javascript">
		function change_problems() {
			var textarea = document.getElementById("input-custom_test_contest_editor");
			var text = textarea.value;
			var id, proid, last = 0, len = text.length;
			text += "\n";
			for (var i = 0; i < len; i++) {
				if (text[i] == ' ') {
					id = text.substring(last, i);
					last = i + 1;
				}
				if (text[i + 1] == '\n') {
					proid = text.substring(last, i + 1);
					last = i + 2;
					if (proid == "-") {
						localStorage.removeItem("lastcontest_id=" + this_id + "?" + id + "&id");
						localStorage.removeItem("lastcontest_id=" + this_id + "?" + id + "&name");
					}
					else {
						localStorage.setItem("lastcontest_id=" + this_id + "?" + id + "&id", proid);
						localStorage.setItem("lastcontest_id=" + this_id + "?" + id + "&name", localStorage.getItem("problem-id=" + proid + "?name"));
					}
				}
			}
			alert("修改完成！");
			location.href="";
		}
	</script>
	</div>
<div class="tab-pane" id="tab-custom-test">
	<div class="row">
	<div id="div-contestname" class="form-group col-sm-9" style="margin-top: .7rem;">
		<h4 for="input-contestname" class="control-label col-sm-12"><label>可见度</label></h4>
		<div class="row">
		<div id="div-contesttime" class="form-group col-sm-4">
			<h6 for="input-contestsee" class="col-sm-12 control-label"><label>是否公开比赛？</label></h6>
			<div class="col-sm-12">
				<input type="radio" id="input-contestsee" name="contestsee" value="g" /><label class="help-block" id="help-contestsee" style="margin-left: 5px;">公开</label><input type="radio" id="input-contestnotsee" name="contestsee" style="margin-left: 10px;" value="b" /><label class="help-block" id="help-contestsee" style="margin-left: 5px; color: red;">不公开</label>
			</div>
		</div>
		<div id="div-contesttime" class="form-group col-sm-4">
			<h6 for="input-contestmine" class="col-sm-12 control-label"><label>是否开放自由开始？</label></h6>
			<div class="col-sm-12">
				<input type="radio" id="input-contestmine" name="contestmine" value="开放"/><label class="help-block" id="help-contestmine" style="margin-left: 5px;">开放</label><input type="radio" id="input-contestnotmine" name="contestmine" style="margin-left: 10px;" value="不开放" /><label class="help-block" id="help-contestmine" style="margin-left: 5px;">不开放</label>
			</div>
		</div>
		<div id="div-contesttime" class="form-group col-sm-4">
			<h6 for="input-contesthack" class="col-sm-12 control-label"><label>是否开放Hack？</label></h6>
			<div class="col-sm-12">
				<input type="radio" id="input-contesthack" name="contesthack" value="开放"/><label class="help-block" id="help-contesthack" style="margin-left: 5px;">开放</label><input type="radio" id="input-contestnothack" name="contesthack" style="margin-left: 10px;" value="不开放" /><label class="help-block" id="help-contesthack" style="margin-left: 5px;">不开放</label>
			</div>
		</div>
		</div>
		<div class="text-center"><button type="submit" value="custom_test" class="mt-2 btn btn-secondary" onclick="change_see();">提交</button></div>
	<div class="row">
		<div class="progress-circle">
			<div class="progress-text">AK: 0%</div>
		</div>
	</div>
</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="myModalLabel">
					公布成绩
				</h4>
				<a type="button" class="close" data-dismiss="modal" aria-hidden="true">
					&times;
				</a>
			</div>
			<div class="modal-body">
				<div class="progress">
  <div class="progress-bar" role="progressbar" style="width: 100%; min-width: 20px;" id="Score-progressbar">
    100%
  </div>
</div>
			</div>
			<div class="modal-footer">
                <a type="button" class="btn btn-primary" href="standings.html">去查看</a>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="myModalLabel">
					合并虚拟参赛列表
				</h4>
				<a type="button" class="close" data-dismiss="modal" aria-hidden="true">
					&times;
				</a>
			</div>
			<div class="modal-body">
				<div class="progress">
  <div class="progress-bar" role="progressbar" style="width: 100%; min-width: 20px;" id="Score-progressbar">
    100%
  </div>
</div>
			</div>
			<div class="modal-footer">
                <a type="button" class="btn btn-primary" href="standings.html">去查看</a>
			</div>
		</div>
	</div>
</div>

	<div class="col-sm-3" style="margin-top: .7rem;">
				<div class="card border-info">
			<div class="card-header bg-info">
				<h3 class="card-title"></h3>
			</div>
			<script type="text/javascript">
var this_contest_type = "end", i = this_id;
if (uoj_username != null && localStorage.getItem("lastcontest_id=" + i + "?" + uoj_username + "&type") == "unstart") 
	this_contest_type = "unend";
else if (uoj_username != null && localStorage.getItem("lastcontest_id=" + i + "?" + uoj_username + "&type") == "unend") 
	this_contest_type = "unend";
else if (uoj_username != null && localStorage.getItem("lastcontest_id=" + i + "?" + uoj_username + "&type") == "wait") 
	this_contest_type = "wait";
else if (uoj_username != null && localStorage.getItem("lastcontest_id=" + i + "?" + uoj_username + "&type") == "judging") 
	this_contest_type = "judging";
else if (uoj_username == null && localStorage.getItem("lastcontest_id=" + i + "?type") == "unstart") 
	this_contest_type = "unend";
else if (uoj_username == null && localStorage.getItem("lastcontest_id=" + i + "?type") == "unend") 
	this_contest_type = "unend";
else if (uoj_username == null && localStorage.getItem("lastcontest_id=" + i + "?type") == "wait") 
	this_contest_type = "wait";
else if (uoj_username == null && localStorage.getItem("lastcontest_id=" + i + "?type") == "judging") 
	this_contest_type = "judging";
if (this_contest_type == "unend") {
	document.querySelector(".card-title").innerHTML = "距离比赛结束";
	document.write('<div class="card-body"><div class="text-center"><div id="contest-countdown"></div></div></div>');
	var e = localStorage.getItem("lastcontest_id=" + this_id + "?end");
	$('#contest-countdown').countdown(((+new Date(e)) - (+new Date())) / 1000, function() { });
}
else if (this_contest_type == "wait") {
	document.querySelector(".card-title").innerHTML = "等待评测";
	document.write('<div class="card-body"><div class="progress bot-buffer-no"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%; min-width: 20px;">0%</div></div></div>');
}
else if (this_contest_type == "judging")  {
	document.querySelector(".card-title").innerHTML = "正在测评";
	document.write('<div class="card-body"><div class="progress bot-buffer-no"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 20px;" id="judging-aria"></div></div></div>');
	document.querySelector("#judging-aria").style.width = localStorage.getItem("lastcontest_id=" + i + "?judging") + "%";
	document.querySelector("#judging-aria").innerHTML = localStorage.getItem("lastcontest_id=" + i + "?judging") + "%";
}
else 
	document.querySelector(".card-title").innerHTML = "比赛已结束";
			</script>
		</div>				<p id="cont_type"></p>
	<p><strong id="cont_type_zy"></strong></p>
		
		<a href="registrants" class="btn btn-info btn-block registrants">报名选手列表</a>
		<script type="text/javascript">
	let timeoutID;
	function judge_countdown() {
		if (localStorage.getItem("lastcontest_id=" + this_id + "?type") == "judging")
		var cnt = Number(localStorage.getItem("lastcontest_id=" + this_id + "?judging"));
		if (cnt >= 100) {
			clearTimeout(timeoutID);
			return;
		}
		cnt++;
		localStorage.setItem("lastcontest_id=" + this_id + "?judging", cnt);
		if (cnt >= 100) {
			clearTimeout(timeoutID);
			return;
		}
		timeoutID = setTimeout(judge_countdown, 3000);
	}
	function judge() {
		localStorage.setItem("lastcontest_id=" + this_id + "?type", "judging");
		localStorage.setItem("lastcontest_id=" + this_id + "?judging", 0);
		for (var i = 1; ; i++) {
			var ri = localStorage.getItem("uoj-user-id=" + i);
			if (ri == null) 
				break;
			if (localStorage.getItem("lastcontest_id=" + this_id + "?" + ri + "&type") == "wait" || localStorage.getItem("lastcontest_id=" + this_id + "?" + ri + "&type") == "judging" || localStorage.getItem("lastcontest_id=" + this_id + "?" + ri + "&type") == "end") 
				localStorage.setItem("lastcontest_id=" + this_id + "?" + ri + "&type", "judging");
		}
	}
	timeoutID = setTimeout(judge_countdown, 500);

	function jump_judge() {
		localStorage.setItem("lastcontest_id=" + this_id + "?type", "judging");
		localStorage.setItem("lastcontest_id=" + this_id + "?judging", 100);
		for (var i = 1; ; i++) {
			var ri = localStorage.getItem("uoj-user-id=" + i);
			if (ri == null) 
				break;
			if (localStorage.getItem("lastcontest_id=" + this_id + "?" + ri + "&type") == "wait") 
				localStorage.setItem("lastcontest_id=" + this_id + "?" + ri + "&type", "judging");
		}
	}

	function end_judge() {
		localStorage.setItem("lastcontest_id=" + this_id + "?type", "end");
		for (var i = 1; ; i++) {
			var ri = localStorage.getItem("uoj-user-id=" + i);
			if (ri == null) 
				break;
			if (localStorage.getItem("lastcontest_id=" + this_id + "?" + ri + "&type") == "judging") 
				localStorage.setItem("lastcontest_id=" + this_id + "?" + ri + "&type", "end");
		}
		clearTimeout(timeoutID);
		return;
	}

	if (this_contest_type == "wait") {
		document.write('<a style="margin-top: .5rem" href="" onclick="judge();" class="btn btn-danger btn-block">开始最终结果测评</a>');
		document.write('<a style="margin-top: .5rem" href="" onclick="jump_judge();" class="btn btn-danger btn-block">跳过最终结果测评</a>');
	}
	else if (this_contest_type == "judging") {
		document.write('<a style="margin-top: .5rem" href="" onclick="end_judge();" class="btn btn-danger btn-block">结束测评</a>');
	}
	else if (this_contest_type == "end") {
		document.write('<a style="margin-top: .5rem" id="btn-standings1" class="btn btn-danger btn-block" data-toggle="modal" data-target="#myModal">公布成绩</a>');
		document.write('<a style="margin-top: .5rem" href="standings" id="btn-standings2" class="btn btn-danger btn-block" data-toggle="modal" data-target="#myModal1">合并虚拟参赛结果</a>');
		document.write('<div class="card border-info top-buffer-lg">\n												<h4 class="card-header bg-success">\n							重测相关						</h4>\n						<div class="list-group">												<a href onclick="judge();" class="list-group-item list-group-item-action">Rejudge</a>\n													</div>\n					</div>');
	}
		</script>
			</div>

	</div>
	<script type="text/javascript">
function change_see() {
	var lastcontest_id = this_id;
	var radio = document.getElementsByName("contestsee");
	var ok2 = 0;
	for (var i=0; i<radio.length; i++) 
		if (radio[i].checked) 
			ok2 = radio[i].value;
	if (ok2) {
	if (ok2 == "g") 
		localStorage.setItem("lastcontest_id=" + lastcontest_id + "?see", 1);
	else 
		localStorage.setItem("lastcontest_id=" + lastcontest_id + "?see", 0);
	}
	radio = document.getElementsByName("contestmine");
	var ok1 = 0;
	for (var i=0; i<radio.length; i++) 
		if (radio[i].checked) 
			ok1 = radio[i].value;
	if (ok1) {
	if (ok1 == "开放") 
		localStorage.setItem("lastcontest_id=" + lastcontest_id + "?mine", 1);
	else 
		localStorage.setItem("lastcontest_id=" + lastcontest_id + "?mine", 0);
	}
	radio = document.getElementsByName("contesthack");
	var ok3 = 0;
	for (var i=0; i<radio.length; i++) 
		if (radio[i].checked) 
			ok3 = radio[i].value;
	if (ok3) {
	if (ok3 == "开放") 
		localStorage.setItem("lastcontest_id=" + lastcontest_id + "?hack", 1);
	else 
		localStorage.setItem("lastcontest_id=" + lastcontest_id + "?hack", 0);
	}
	alert("修改完成！");
	window.location.href = "";
}
	</script>
	
</div>
	</div>
			</div></div>
<script type="text/javascript" src="file:///D:/oj.daimayuan.top/js/contest.js"></script>
						<div class="uoj-footer">
				<div class="btn-group dropright mb-3">
					<button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle" data-toggle="dropdown">
						<span class="glyphicon glyphicon-globe"></span> 中文					</button>
					<div class="dropdown-menu">
						<a class="dropdown-item" href="http://oj.daimayuan.top/contest/303?locale=zh-cn">中文</a>
						<a class="dropdown-item" href="http://oj.daimayuan.top/contest/303?locale=en">English</a>
					</div>
				</div>
				
				<ul class="list-inline"><li class="list-inline-item">Daimayuan Online Judge</li></ul>
								<p>服务器时间: 2025-02-03 20:10:03 | <a href="https://github.com/UniversalOJ/UOJ-System" target="_blank">开源项目</a></p>
			</div>
					</div>
		<script src="file:///D:/oj.daimayuan.top/js/doj.js"></script>
		<!-- /container -->
	</body>
</html>
